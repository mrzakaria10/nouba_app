2025-05-26T09:48:08.569+02:00  INFO 11548 --- [app] [main] com.nouba.app.AppApplication             : Starting AppApplication using Java 21.0.5 with PID 11548 (C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app\target\classes started by ZAKARIA.DERKAOUI in C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app)
2025-05-26T09:48:08.594+02:00  INFO 11548 --- [app] [main] com.nouba.app.AppApplication             : No active profile set, falling back to 1 default profile: "default"
2025-05-26T09:48:11.802+02:00  INFO 11548 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26T09:48:12.085+02:00  INFO 11548 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 251 ms. Found 6 JPA repository interfaces.
2025-05-26T09:48:14.516+02:00  INFO 11548 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-26T09:48:14.571+02:00  INFO 11548 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-26T09:48:14.572+02:00  INFO 11548 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26T09:48:14.985+02:00  INFO 11548 --- [app] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-26T09:48:14.986+02:00  INFO 11548 --- [app] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6214 ms
2025-05-26T09:48:15.605+02:00  INFO 11548 --- [app] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26T09:48:15.867+02:00  INFO 11548 --- [app] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26T09:48:16.129+02:00  INFO 11548 --- [app] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-26T09:48:17.129+02:00  INFO 11548 --- [app] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26T09:48:17.245+02:00  INFO 11548 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-26T09:48:17.766+02:00  INFO 11548 --- [app] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b362f1
2025-05-26T09:48:17.771+02:00  INFO 11548 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-26T09:48:17.845+02:00  WARN 11548 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26T09:48:17.848+02:00  WARN 11548 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-26T09:48:17.904+02:00  INFO 11548 --- [app] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26T09:48:21.261+02:00  INFO 11548 --- [app] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26T09:48:21.782+02:00  INFO 11548 --- [app] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T09:48:22.842+02:00  INFO 11548 --- [app] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26T09:48:29.140+02:00  WARN 11548 --- [app] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26T09:48:29.220+02:00  INFO 11548 --- [app] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-26T09:48:31.397+02:00  INFO 11548 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-26T09:48:31.423+02:00  INFO 11548 --- [app] [main] com.nouba.app.AppApplication             : Started AppApplication in 24.612 seconds (process running for 26.263)
2025-05-26T10:07:21.650+02:00  INFO 11548 --- [app] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26T10:07:21.856+02:00  INFO 11548 --- [app] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-26T10:07:22.492+02:00  INFO 11548 --- [app] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T10:07:23.137+02:00  INFO 11548 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-26T10:07:23.346+02:00  INFO 11548 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-26T10:08:14.172+02:00  INFO 18068 --- [app] [main] com.nouba.app.AppApplication             : Starting AppApplication using Java 21.0.5 with PID 18068 (C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app\target\classes started by ZAKARIA.DERKAOUI in C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app)
2025-05-26T10:08:14.177+02:00  INFO 18068 --- [app] [main] com.nouba.app.AppApplication             : No active profile set, falling back to 1 default profile: "default"
2025-05-26T10:08:28.867+02:00  INFO 18068 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26T10:08:29.290+02:00  INFO 18068 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 377 ms. Found 6 JPA repository interfaces.
2025-05-26T10:08:33.251+02:00  INFO 18068 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-26T10:08:33.319+02:00  INFO 18068 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-26T10:08:33.320+02:00  INFO 18068 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26T10:08:33.737+02:00  INFO 18068 --- [app] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-26T10:08:33.737+02:00  INFO 18068 --- [app] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18953 ms
2025-05-26T10:08:34.972+02:00  INFO 18068 --- [app] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26T10:08:35.257+02:00  INFO 18068 --- [app] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26T10:08:35.403+02:00  INFO 18068 --- [app] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-26T10:08:37.251+02:00  INFO 18068 --- [app] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26T10:08:37.426+02:00  INFO 18068 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-26T10:08:38.892+02:00  INFO 18068 --- [app] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e471884
2025-05-26T10:08:38.899+02:00  INFO 18068 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-26T10:08:38.988+02:00  WARN 18068 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26T10:08:38.992+02:00  WARN 18068 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-26T10:08:39.168+02:00  INFO 18068 --- [app] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26T10:08:44.734+02:00  INFO 18068 --- [app] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26T10:08:46.020+02:00  INFO 18068 --- [app] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T10:08:47.671+02:00  INFO 18068 --- [app] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26T10:08:54.633+02:00  WARN 18068 --- [app] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26T10:08:54.750+02:00  INFO 18068 --- [app] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-26T10:08:57.015+02:00  INFO 18068 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-26T10:08:57.045+02:00  INFO 18068 --- [app] [main] com.nouba.app.AppApplication             : Started AppApplication in 48.505 seconds (process running for 50.869)
2025-05-26T10:09:21.238+02:00  INFO 18068 --- [app] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-26T10:09:21.239+02:00  INFO 18068 --- [app] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-26T10:09:21.243+02:00  INFO 18068 --- [app] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-26T10:09:21.697+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T10:09:21.793+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:09:21.830+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:09:21.853+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:09:22.048+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-05-26T10:09:22.063+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T10:09:22.065+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T10:09:22.070+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:09:22.074+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:09:22.078+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:09:22.086+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where a1_0.id=?
2025-05-26T10:09:22.099+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T10:09:22.105+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T10:09:22.109+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:09:22.114+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T10:09:22.119+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T10:09:22.159+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.181+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.185+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.189+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.192+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.195+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.197+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.201+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.204+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.207+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.210+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.215+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.223+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.227+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.229+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:22.231+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T10:09:44.768+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T10:09:44.785+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:09:44.789+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:09:44.795+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:09:44.808+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-05-26T10:09:44.815+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T10:09:44.823+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T10:09:44.824+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:09:44.828+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:09:44.831+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:09:44.841+02:00 DEBUG 18068 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where a1_0.agency_id=?
2025-05-26T10:09:57.981+02:00  INFO 18068 --- [app] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26T10:09:58.010+02:00  INFO 18068 --- [app] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-26T10:09:58.023+02:00  INFO 18068 --- [app] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T10:09:58.028+02:00  INFO 18068 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-26T10:09:58.036+02:00  INFO 18068 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-26T10:20:33.689+02:00  INFO 17940 --- [app] [main] com.nouba.app.AppApplication             : Starting AppApplication using Java 21.0.5 with PID 17940 (C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app\target\classes started by ZAKARIA.DERKAOUI in C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app)
2025-05-26T10:20:33.689+02:00  INFO 17940 --- [app] [main] com.nouba.app.AppApplication             : No active profile set, falling back to 1 default profile: "default"
2025-05-26T10:20:37.404+02:00  INFO 17940 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26T10:20:37.876+02:00  INFO 17940 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 428 ms. Found 6 JPA repository interfaces.
2025-05-26T10:20:41.953+02:00  INFO 17940 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-26T10:20:42.016+02:00  INFO 17940 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-26T10:20:42.016+02:00  INFO 17940 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26T10:20:42.328+02:00  INFO 17940 --- [app] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-26T10:20:42.328+02:00  INFO 17940 --- [app] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8469 ms
2025-05-26T10:20:43.922+02:00  INFO 17940 --- [app] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26T10:20:44.266+02:00  INFO 17940 --- [app] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26T10:20:44.406+02:00  INFO 17940 --- [app] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-26T10:20:45.807+02:00  INFO 17940 --- [app] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26T10:20:45.925+02:00  INFO 17940 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-26T10:20:46.472+02:00  INFO 17940 --- [app] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7848321e
2025-05-26T10:20:46.472+02:00  INFO 17940 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-26T10:20:46.550+02:00  WARN 17940 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26T10:20:46.550+02:00  WARN 17940 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-26T10:20:46.628+02:00  INFO 17940 --- [app] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26T10:20:51.688+02:00  INFO 17940 --- [app] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26T10:20:54.052+02:00  INFO 17940 --- [app] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T10:20:56.706+02:00  INFO 17940 --- [app] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26T10:21:17.145+02:00  WARN 17940 --- [app] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26T10:21:17.685+02:00  INFO 17940 --- [app] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-26T10:21:22.501+02:00  INFO 17940 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-26T10:21:22.527+02:00  INFO 17940 --- [app] [main] com.nouba.app.AppApplication             : Started AppApplication in 51.271 seconds (process running for 53.987)
2025-05-26T10:50:46.095+02:00  INFO 17940 --- [app] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-26T10:50:46.140+02:00  INFO 17940 --- [app] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-26T10:50:46.437+02:00  INFO 17940 --- [app] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 291 ms
2025-05-26T10:50:48.502+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T10:50:48.662+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:50:48.700+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:50:48.751+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:50:49.099+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-05-26T10:50:49.118+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T10:50:49.120+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T10:50:49.122+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:50:49.125+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:50:49.129+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:50:49.147+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where a1_0.agency_id=?
2025-05-26T10:52:23.556+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T10:52:29.918+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T10:52:29.930+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:52:29.936+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:52:29.945+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:55:27.782+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T10:55:27.809+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:55:27.814+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:55:27.843+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:55:27.979+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T10:55:36.231+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T10:55:36.234+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:55:36.236+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:55:36.238+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:55:36.310+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T10:55:36.333+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T10:55:36.339+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T10:55:36.342+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:55:56.436+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T10:55:56.454+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:55:56.464+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T10:55:56.486+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T10:55:56.513+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T10:55:56.528+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T10:55:56.534+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T10:55:56.537+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:00:50.608+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:00:50.612+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:00:50.616+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:00:50.620+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:00:50.654+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T11:00:50.658+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:00:50.667+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T11:00:50.670+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:00:50.726+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T11:00:50.749+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T11:00:50.825+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T11:00:51.004+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T11:00:51.013+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T11:00:51.017+02:00 ERROR 17940 --- [app] [http-nio-8080-exec-8] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T11:07:20.739+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:07:20.747+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:07:20.749+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:07:20.752+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:07:20.762+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:07:20.769+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:07:20.774+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:07:20.778+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:07:52.983+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:07:52.987+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:07:52.990+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:07:52.996+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:07:53.121+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:08:31.283+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:08:31.288+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:08:31.292+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:08:31.298+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:08:31.307+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:08:31.315+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:08:31.319+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:08:31.321+02:00 DEBUG 17940 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:15:16.798+02:00  INFO 17940 --- [app] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26T11:15:16.856+02:00  INFO 17940 --- [app] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-26T11:15:16.962+02:00  INFO 17940 --- [app] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T11:15:17.053+02:00  INFO 17940 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-26T11:15:17.082+02:00  INFO 17940 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-26T11:15:30.717+02:00  INFO 17292 --- [app] [main] com.nouba.app.AppApplication             : Starting AppApplication using Java 21.0.5 with PID 17292 (C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app\target\classes started by ZAKARIA.DERKAOUI in C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app)
2025-05-26T11:15:30.724+02:00  INFO 17292 --- [app] [main] com.nouba.app.AppApplication             : No active profile set, falling back to 1 default profile: "default"
2025-05-26T11:15:33.942+02:00  INFO 17292 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26T11:15:34.229+02:00  INFO 17292 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 242 ms. Found 6 JPA repository interfaces.
2025-05-26T11:15:36.273+02:00  INFO 17292 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-26T11:15:36.316+02:00  INFO 17292 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-26T11:15:36.317+02:00  INFO 17292 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26T11:15:36.569+02:00  INFO 17292 --- [app] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-26T11:15:36.575+02:00  INFO 17292 --- [app] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5702 ms
2025-05-26T11:15:37.523+02:00  INFO 17292 --- [app] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26T11:15:37.711+02:00  INFO 17292 --- [app] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26T11:15:37.808+02:00  INFO 17292 --- [app] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-26T11:15:38.723+02:00  INFO 17292 --- [app] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26T11:15:38.826+02:00  INFO 17292 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-26T11:15:39.115+02:00  INFO 17292 --- [app] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e471884
2025-05-26T11:15:39.118+02:00  INFO 17292 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-26T11:15:39.167+02:00  WARN 17292 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26T11:15:39.170+02:00  WARN 17292 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-26T11:15:39.215+02:00  INFO 17292 --- [app] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26T11:15:41.691+02:00  INFO 17292 --- [app] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26T11:15:42.007+02:00  INFO 17292 --- [app] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T11:15:42.828+02:00  INFO 17292 --- [app] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26T11:15:47.306+02:00  WARN 17292 --- [app] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26T11:15:47.393+02:00  INFO 17292 --- [app] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-26T11:15:49.869+02:00  INFO 17292 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-26T11:15:49.897+02:00  INFO 17292 --- [app] [main] com.nouba.app.AppApplication             : Started AppApplication in 20.686 seconds (process running for 21.962)
2025-05-26T11:15:57.013+02:00  INFO 17292 --- [app] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-26T11:15:57.014+02:00  INFO 17292 --- [app] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-26T11:15:57.019+02:00  INFO 17292 --- [app] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-26T11:15:57.451+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:15:57.514+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:15:57.525+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:15:57.545+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:15:57.642+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:16:08.482+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:16:08.485+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:16:08.487+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:16:08.522+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:16:08.535+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:16:11.306+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:16:11.319+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:16:11.326+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:16:11.329+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:16:11.426+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:16:11.436+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:16:11.450+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:17:09.523+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:17:09.553+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:17:09.556+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:17:09.560+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:17:09.573+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:17:11.226+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:17:11.246+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:17:11.250+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:17:11.254+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:17:11.279+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:17:11.283+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:17:11.287+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:17:14.209+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:17:14.220+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:17:14.224+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:17:14.235+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:17:14.261+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where a1_0.agency_id=?
2025-05-26T11:17:23.338+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:17:23.344+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:17:23.348+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:17:23.352+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:17:23.452+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T11:17:23.453+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:17:23.459+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T11:17:23.461+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:17:23.498+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T11:17:23.513+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T11:17:23.548+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T11:17:23.614+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T11:17:23.620+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T11:17:23.624+02:00 ERROR 17292 --- [app] [http-nio-8080-exec-7] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T11:22:25.196+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:22:25.261+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:25.279+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:22:25.283+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:25.296+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:22:27.277+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:22:27.282+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:27.286+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:22:27.290+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:27.301+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:22:27.305+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:22:27.309+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:22:28.747+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:22:28.847+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:28.861+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:22:28.867+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:28.893+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where a1_0.agency_id=?
2025-05-26T11:22:32.389+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:22:32.409+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:32.417+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:22:32.420+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:32.449+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T11:22:32.454+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:32.466+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T11:22:32.469+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:22:32.476+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T11:22:32.482+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T11:22:32.487+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T11:22:32.496+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T11:22:32.502+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T11:22:32.505+02:00 ERROR 17292 --- [app] [http-nio-8080-exec-6] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T11:22:49.085+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:22:49.103+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:49.108+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:22:49.111+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:49.127+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:22:55.685+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:22:55.689+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:55.692+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:22:55.695+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:22:55.709+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:22:55.713+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:22:55.716+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:23:20.178+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:23:20.194+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:20.198+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:23:20.201+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:20.248+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T11:23:34.686+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:23:34.703+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:34.708+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:23:34.712+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:34.728+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:23:36.956+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:23:36.960+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:36.963+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:23:36.970+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:36.977+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:23:36.992+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:23:36.995+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:23:38.420+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:23:38.486+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:38.519+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:23:38.546+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:38.570+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where a1_0.agency_id=?
2025-05-26T11:23:41.292+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:23:41.296+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:41.299+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:23:41.301+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:41.309+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T11:23:41.312+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:23:41.325+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T11:23:41.330+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:23:41.341+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T11:23:41.348+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T11:23:41.350+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T11:23:41.354+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T11:23:41.358+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T11:23:41.359+02:00 ERROR 17292 --- [app] [http-nio-8080-exec-2] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T11:25:31.491+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:25:31.561+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:31.575+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:25:31.595+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:31.613+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:25:34.512+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:25:34.534+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:34.549+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:25:34.553+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:34.592+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:25:36.658+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:25:36.667+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:36.672+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:25:36.677+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:36.692+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:25:36.696+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:25:36.699+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:25:38.561+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:25:38.570+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:38.576+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:25:38.587+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:38.597+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where a1_0.agency_id=?
2025-05-26T11:25:42.451+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:25:42.468+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:42.471+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:25:42.501+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:42.512+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T11:25:42.514+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:25:42.519+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T11:25:42.522+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:25:42.528+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T11:25:42.532+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T11:25:42.536+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T11:25:42.541+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T11:25:42.545+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T11:25:42.547+02:00 ERROR 17292 --- [app] [http-nio-8080-exec-2] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T11:26:15.116+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:26:15.166+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:15.172+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:15.179+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:15.229+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:26:17.011+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:26:17.020+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:17.021+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:17.027+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:17.033+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:26:17.040+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:26:17.044+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:18.430+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:26:18.436+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:18.439+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:18.443+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:18.461+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where a1_0.agency_id=?
2025-05-26T11:26:21.278+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:26:21.282+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:21.285+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:21.294+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:21.312+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T11:26:21.318+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:21.324+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T11:26:21.328+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:21.333+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T11:26:21.337+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T11:26:21.339+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T11:26:21.345+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T11:26:21.349+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T11:26:21.353+02:00 ERROR 17292 --- [app] [http-nio-8080-exec-10] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T11:26:26.733+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:26:26.740+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:26.771+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:26.779+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:26.797+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:26:28.558+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:26:28.601+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:28.623+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:28.643+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:28.653+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:26:28.671+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:26:28.675+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:32.376+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:26:32.384+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:32.387+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:32.389+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:32.395+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T11:26:32.398+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T11:26:32.420+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:26:32.432+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T11:26:32.437+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T11:26:32.440+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:26:32.447+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T11:37:15.331+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:37:15.387+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:37:15.425+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:37:15.428+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:37:15.469+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:37:19.452+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:37:19.503+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:37:19.506+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:37:19.515+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:37:19.546+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:37:19.579+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:37:19.582+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:37:44.508+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:37:44.515+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:37:44.519+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:37:44.522+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:37:44.556+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T11:37:52.365+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:37:52.379+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:37:52.387+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:37:52.392+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:37:52.407+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T11:37:52.421+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T11:37:52.442+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:37:52.446+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T11:37:52.459+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T11:37:52.469+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:37:52.483+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T11:40:15.625+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:40:15.630+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:40:15.632+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:40:15.636+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:40:15.655+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T11:40:22.551+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:40:22.555+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:40:22.560+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:40:22.564+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:40:22.593+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T11:40:22.619+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T11:40:22.632+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:40:27.181+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T11:40:27.194+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:40:27.197+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:40:27.200+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:40:27.207+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T11:40:27.211+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T11:40:27.214+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T11:40:27.216+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T11:40:27.219+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T11:40:27.221+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T11:40:27.226+02:00 DEBUG 17292 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T11:52:45.141+02:00  INFO 17292 --- [app] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26T11:52:45.228+02:00  INFO 17292 --- [app] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-26T11:52:45.301+02:00  INFO 17292 --- [app] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T11:52:45.422+02:00  INFO 17292 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-26T11:52:45.450+02:00  INFO 17292 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-26T12:42:30.711+02:00  INFO 8700 --- [app] [main] com.nouba.app.AppApplication             : Starting AppApplication using Java 21.0.5 with PID 8700 (C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app\target\classes started by ZAKARIA.DERKAOUI in C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app)
2025-05-26T12:42:30.719+02:00  INFO 8700 --- [app] [main] com.nouba.app.AppApplication             : No active profile set, falling back to 1 default profile: "default"
2025-05-26T12:42:33.871+02:00  INFO 8700 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26T12:42:34.295+02:00  INFO 8700 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 391 ms. Found 6 JPA repository interfaces.
2025-05-26T12:42:37.487+02:00  INFO 8700 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-26T12:42:37.548+02:00  INFO 8700 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-26T12:42:37.548+02:00  INFO 8700 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26T12:42:37.803+02:00  INFO 8700 --- [app] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-26T12:42:37.804+02:00  INFO 8700 --- [app] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6895 ms
2025-05-26T12:42:38.355+02:00  INFO 8700 --- [app] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26T12:42:38.655+02:00  INFO 8700 --- [app] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26T12:42:38.865+02:00  INFO 8700 --- [app] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-26T12:42:39.948+02:00  INFO 8700 --- [app] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26T12:42:40.391+02:00  INFO 8700 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-26T12:42:41.292+02:00  INFO 8700 --- [app] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e471884
2025-05-26T12:42:41.311+02:00  INFO 8700 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-26T12:42:41.385+02:00  WARN 8700 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26T12:42:41.388+02:00  WARN 8700 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-26T12:42:41.474+02:00  INFO 8700 --- [app] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26T12:42:45.322+02:00  INFO 8700 --- [app] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26T12:42:45.933+02:00  INFO 8700 --- [app] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T12:42:47.566+02:00  INFO 8700 --- [app] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26T12:42:58.036+02:00  WARN 8700 --- [app] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26T12:42:58.384+02:00  INFO 8700 --- [app] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-26T12:43:01.635+02:00  INFO 8700 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-26T12:43:01.694+02:00  INFO 8700 --- [app] [main] com.nouba.app.AppApplication             : Started AppApplication in 33.558 seconds (process running for 37.374)
2025-05-26T12:43:18.173+02:00  INFO 8700 --- [app] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-26T12:43:18.173+02:00  INFO 8700 --- [app] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-26T12:43:18.181+02:00  INFO 8700 --- [app] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-05-26T12:43:19.732+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:43:19.813+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:43:19.830+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:43:19.861+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:43:20.115+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:45:26.140+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:45:26.145+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:45:26.147+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:45:26.149+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:45:26.248+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role,as1_0.id,as1_0.description,as1_0.name,t1_0.client_id,c2_0.id,c2_0.address,c2_0.phone,c2_0.user_id,u2_0.id,u2_0.activation_token,u2_0.email,u2_0.enabled,u2_0.last_login,u2_0.name,u2_0.password,u2_0.phone,u2_0.role,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id left join services as1_0 on as1_0.id=t1_0.service_id join clients c2_0 on c2_0.id=t1_0.client_id join users u2_0 on u2_0.id=c2_0.user_id where t1_0.id=?
2025-05-26T12:45:26.257+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:45:26.259+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:45:26.280+02:00 ERROR 8700 --- [app] [http-nio-8080-exec-4] com.nouba.app.services.TicketService     : Error sending cancellation notification

java.io.FileNotFoundException: class path resource [templates.email/ticket-cancellation.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendCancellationNotification(TicketService.java:128) ~[classes/:na]
	at com.nouba.app.services.TicketService.cancelTicket(TicketService.java:160) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.cancelTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.cancelTicket(TicketController.java:245) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.cancelTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T12:45:26.370+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : update ticket set agency_id=?,service_id=?,client_id=?,completed_at=?,number=?,sequence_number=?,served=?,started_at=?,status=? where id=?
2025-05-26T12:48:51.745+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:48:51.776+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:48:51.779+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:48:51.784+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:48:51.942+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T12:50:05.213+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:50:05.239+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:50:05.251+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:50:05.262+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:50:05.282+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T12:50:05.344+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T12:50:05.373+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:50:27.908+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:50:27.951+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:50:27.955+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:50:27.967+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:50:28.447+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T12:50:28.455+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T12:50:28.460+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:50:28.465+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:50:28.470+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T12:50:28.474+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:50:28.912+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:54:24.748+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:54:24.755+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:24.758+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:24.762+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:24.781+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T12:54:27.579+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:54:27.582+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:27.585+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:27.587+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:27.595+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T12:54:27.600+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T12:54:27.602+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:29.798+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:54:29.801+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:29.804+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:29.807+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:29.891+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where a1_0.agency_id=?
2025-05-26T12:54:35.991+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:54:36.009+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:36.014+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:36.021+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:36.114+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T12:54:36.117+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:36.136+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T12:54:36.139+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:36.164+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T12:54:36.179+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T12:54:36.273+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T12:54:36.460+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:54:36.465+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T12:54:36.483+02:00 ERROR 8700 --- [app] [http-nio-8080-exec-2] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T12:54:47.986+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:54:47.990+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:47.992+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:47.995+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:48.003+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T12:54:50.470+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:54:50.473+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:50.476+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:50.478+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:50.487+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T12:54:50.492+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T12:54:50.500+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:59.099+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:54:59.102+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:59.106+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:54:59.107+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:54:59.116+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T12:55:03.251+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:55:03.258+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:55:03.262+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:55:03.265+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:55:03.274+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T12:55:06.792+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:55:06.797+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:55:06.799+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:55:06.802+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:55:06.813+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T12:55:06.816+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T12:55:06.820+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:55:06.824+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:55:06.830+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T12:55:06.833+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:55:06.841+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:56:03.307+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:03.313+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:03.315+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:03.467+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:07.757+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:07.770+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:07.788+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.791+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:07.799+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.806+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:07.808+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:07.810+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.812+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:07.843+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,t1_0.service_id,t1_0.client_id,c2_0.id,c2_0.address,c2_0.phone,c2_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id join city c1_0 on c1_0.id=a1_0.city_id join clients c2_0 on c2_0.id=t1_0.client_id join users u1_0 on u1_0.id=c2_0.user_id where date(t1_0.issued_at)=current_date order by t1_0.issued_at desc
2025-05-26T12:56:07.871+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:56:07.880+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.882+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:07.886+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:07.891+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:56:07.894+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.905+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select distinct u1_0.id,u1_0.activation_token,c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 left join clients c1_0 on u1_0.id=c1_0.user_id where u1_0.enabled=1 and u1_0.last_login between ? and ? and (u1_0.role='CLIENT' or u1_0.role='AGENCY') order by u1_0.last_login desc
2025-05-26T12:56:07.909+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.913+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.917+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.925+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.930+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.941+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:56:07.944+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:07.948+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:07.955+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:07.958+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:56:07.962+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:08.009+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(*) from agency a1_0
2025-05-26T12:56:08.048+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(*) from clients c1_0
2025-05-26T12:56:08.079+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.status=?
2025-05-26T12:56:29.030+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:29.035+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:29.039+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:29.063+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join city c1_0 on c1_0.id=a1_0.city_id left join users u1_0 on u1_0.id=a1_0.user_id
2025-05-26T12:56:29.067+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:29.081+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:33.828+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:33.844+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:33.857+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:33.874+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0
2025-05-26T12:56:33.882+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:33.887+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:33.891+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:33.895+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:33.902+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:33.909+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:33.918+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:33.923+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:33.937+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:33.941+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:33.944+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:33.947+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:33.952+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:33.958+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.755+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:45.757+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:45.774+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.779+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:56:45.783+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.787+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:45.788+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.789+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:45.794+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:45.797+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,t1_0.service_id,t1_0.client_id,c2_0.id,c2_0.address,c2_0.phone,c2_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id join city c1_0 on c1_0.id=a1_0.city_id join clients c2_0 on c2_0.id=t1_0.client_id join users u1_0 on u1_0.id=c2_0.user_id where date(t1_0.issued_at)=current_date order by t1_0.issued_at desc
2025-05-26T12:56:45.800+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(*) from agency a1_0
2025-05-26T12:56:45.800+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select distinct u1_0.id,u1_0.activation_token,c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 left join clients c1_0 on u1_0.id=c1_0.user_id where u1_0.enabled=1 and u1_0.last_login between ? and ? and (u1_0.role='CLIENT' or u1_0.role='AGENCY') order by u1_0.last_login desc
2025-05-26T12:56:45.807+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(*) from clients c1_0
2025-05-26T12:56:45.815+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:56:45.823+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.status=?
2025-05-26T12:56:45.826+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.836+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:45.848+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:45.851+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:56:45.856+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.861+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.866+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.871+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.876+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.883+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.890+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:56:45.892+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:56:45.895+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:45.897+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:56:45.900+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:56:45.906+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:15.225+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:57:15.231+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:15.240+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:15.242+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:15.369+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:57:22.724+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:57:22.799+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:57:22.804+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:57:22.810+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.810+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:57:22.814+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.818+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.818+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:57:22.822+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.826+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.828+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:57:22.830+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.834+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.838+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.841+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.850+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.850+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.851+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-05-26T12:57:22.855+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.866+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T12:57:22.867+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.872+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T12:57:22.873+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T12:57:22.878+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.879+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T12:57:22.881+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T12:57:22.894+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.895+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:57:22.896+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T12:57:22.897+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.899+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.903+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:57:22.906+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.906+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T12:57:22.909+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.912+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.912+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T12:57:22.912+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.916+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.918+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:57:22.921+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.921+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.923+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.925+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.926+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.932+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE' and date(t1_0.issued_at)=current_date
2025-05-26T12:57:22.933+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:57:22.933+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_COURS' and date(t1_0.issued_at)=current_date
2025-05-26T12:57:22.935+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.936+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.939+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.944+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.950+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where a1_0.id=?
2025-05-26T12:57:22.953+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:57:22.956+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T12:57:22.958+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T12:57:22.958+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.960+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T12:57:22.963+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:57:22.966+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:22.970+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.974+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:22.987+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='ANNULE' and date(t1_0.issued_at)=current_date
2025-05-26T12:57:22.996+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:57:22.995+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='TERMINE' and date(t1_0.issued_at)=current_date
2025-05-26T12:57:23.004+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:57:23.017+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:57:23.019+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.022+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:57:23.023+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.024+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:23.028+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.028+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:23.031+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.035+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.038+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.041+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.046+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T12:57:23.050+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.052+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:57:23.053+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.057+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.063+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.066+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.072+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.077+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.085+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.090+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.093+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:57:23.096+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T12:59:09.778+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:59:09.781+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:59:09.782+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:59:09.784+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:59:09.795+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_COURS'
2025-05-26T12:59:09.797+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T12:59:09.799+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:59:09.802+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:59:09.804+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T12:59:09.807+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:59:59.541+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T12:59:59.545+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:59:59.550+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:59:59.554+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:59:59.575+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T12:59:59.581+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T12:59:59.583+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T12:59:59.585+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:59:59.588+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:59:59.593+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T12:59:59.608+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 where t1_0.agency_id=? and (t1_0.status='ANNULE' or t1_0.status='TERMINE') order by t1_0.issued_at desc
2025-05-26T12:59:59.612+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T12:59:59.615+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T12:59:59.618+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T12:59:59.622+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:00:35.838+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:35.847+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:35.852+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:35.862+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.866+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:35.867+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:35.867+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.868+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:35.869+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.870+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.871+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.878+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.879+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.879+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.881+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.881+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.883+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.881+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.885+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.885+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.887+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.887+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.895+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:00:35.899+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:00:35.902+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:00:35.902+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.904+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:35.904+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:00:35.909+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:35.913+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:00:35.915+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.916+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:35.918+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:35.919+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.920+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.926+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:35.928+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:35.931+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.931+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.933+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:35.937+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.937+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:35.942+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-05-26T13:00:35.944+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.946+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.947+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:35.945+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='TERMINE' and date(t1_0.issued_at)=current_date
2025-05-26T13:00:35.952+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:35.953+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.955+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.961+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.961+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='ANNULE' and date(t1_0.issued_at)=current_date
2025-05-26T13:00:35.963+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.966+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.968+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_COURS' and date(t1_0.issued_at)=current_date
2025-05-26T13:00:35.968+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.975+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where a1_0.id=?
2025-05-26T13:00:35.975+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:35.993+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:35.996+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:00:36.006+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:36.010+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:00:36.024+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE' and date(t1_0.issued_at)=current_date
2025-05-26T13:00:36.034+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:36.038+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:00:36.050+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:00:36.059+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:36.065+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:36.069+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.072+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:36.084+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.089+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:36.112+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.119+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.122+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:00:36.129+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.129+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:36.133+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.144+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.152+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.170+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.180+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.186+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.192+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.199+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.203+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.206+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.215+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.218+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:36.233+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.592+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:45.594+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:45.610+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:45.613+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.618+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:45.621+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.622+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.624+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.625+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:45.626+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:00:45.628+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.629+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.630+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.632+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.632+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:00:45.633+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.635+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.636+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.637+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.644+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.644+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:00:45.647+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:00:45.650+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:45.651+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:45.654+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-05-26T13:00:45.656+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:45.656+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:45.658+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.660+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:45.659+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.661+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.661+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:45.662+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.663+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.663+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.664+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.664+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.665+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.666+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.667+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_COURS' and date(t1_0.issued_at)=current_date
2025-05-26T13:00:45.669+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='ANNULE' and date(t1_0.issued_at)=current_date
2025-05-26T13:00:45.671+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:00:45.678+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:45.681+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:45.683+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.685+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.687+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.687+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.691+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.694+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where a1_0.id=?
2025-05-26T13:00:45.702+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.711+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:00:45.711+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:00:45.712+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.714+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:00:45.715+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:00:45.717+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.717+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.719+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:00:45.721+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='TERMINE' and date(t1_0.issued_at)=current_date
2025-05-26T13:00:45.721+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:00:45.724+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:00:45.734+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:00:45.735+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.739+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:00:45.741+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.743+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE' and date(t1_0.issued_at)=current_date
2025-05-26T13:00:45.750+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.756+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.759+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.761+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.764+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.767+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.771+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.774+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.776+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.780+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.783+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.786+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.789+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.792+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.794+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.797+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:00:45.802+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:08.565+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:08.568+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:08.570+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:08.574+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:08.579+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:01:08.581+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:08.587+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:01:08.594+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:08.598+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T13:01:08.601+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T13:01:08.606+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T13:01:08.614+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:08.618+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:08.620+02:00 ERROR 8700 --- [app] [http-nio-8080-exec-10] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T13:01:20.103+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:20.103+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:20.110+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:20.111+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:20.118+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:20.121+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:20.127+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.129+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.131+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.133+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.135+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.137+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.138+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.139+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.141+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.141+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.145+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:20.145+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:20.147+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:20.150+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.150+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:20.152+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:20.153+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:20.153+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:20.155+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.155+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:20.157+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.157+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:20.159+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.160+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.162+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.163+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:20.165+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.165+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:20.167+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.167+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.168+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.171+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:20.173+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.173+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.176+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_COURS' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:20.185+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:20.186+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.190+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.190+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='ANNULE' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:20.202+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.202+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.206+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.207+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.208+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.211+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='TERMINE' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:20.224+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.226+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:01:20.232+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-05-26T13:01:20.232+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.235+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:20.237+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:20.241+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.245+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.248+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:20.253+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where a1_0.id=?
2025-05-26T13:01:20.255+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:01:20.257+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:01:20.259+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:20.263+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:01:20.266+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:01:20.271+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.274+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.276+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.282+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.285+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.289+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.298+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.301+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.304+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.308+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.312+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.316+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.325+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.351+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.354+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.356+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.359+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.364+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.367+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:20.369+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.199+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:23.273+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:23.283+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:23.283+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:23.290+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:23.303+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.303+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.305+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.305+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.307+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.307+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.316+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:23.318+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.319+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:23.319+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.322+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.325+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:23.326+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:23.336+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.338+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:23.338+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.339+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.345+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.352+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.352+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:23.354+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.356+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:23.358+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_COURS' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:23.367+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.371+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.372+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.373+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:01:23.374+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.375+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.376+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.383+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.383+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.386+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='ANNULE' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:23.388+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.397+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-05-26T13:01:23.399+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:23.401+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.419+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:23.421+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:23.424+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:23.429+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:23.433+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:23.435+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.437+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.441+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.448+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:23.460+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:23.467+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.468+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.471+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:23.480+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:23.488+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.489+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.491+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.501+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where a1_0.id=?
2025-05-26T13:01:23.511+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.513+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.516+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:01:23.518+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.521+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.523+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:01:23.526+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:23.527+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='TERMINE' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:23.529+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:01:23.535+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:01:23.537+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:23.544+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:01:23.550+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.554+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.557+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.560+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.579+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.584+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.587+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.591+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.597+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.600+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.603+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.609+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.613+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.616+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.619+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.621+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.624+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.627+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.630+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:23.633+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:35.877+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:35.911+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:35.932+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:35.949+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:35.997+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:01:36.015+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:36.164+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:01:36.191+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:36.214+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T13:01:36.229+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T13:01:36.248+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T13:01:36.278+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:36.281+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:36.289+02:00 ERROR 8700 --- [app] [http-nio-8080-exec-5] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T13:01:41.524+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:41.526+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:41.528+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:41.534+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:41.539+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:41.541+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:01:41.545+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.545+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.545+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.546+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.547+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.549+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.551+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.550+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.555+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where u1_0.id=?
2025-05-26T13:01:41.558+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:41.560+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.562+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.561+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.562+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:41.561+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:41.563+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.563+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:41.564+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.565+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.567+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:41.568+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:41.569+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.569+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:41.569+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.571+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:41.572+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.573+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.575+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.575+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.578+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.577+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:41.579+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.580+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:41.581+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:41.582+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.585+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='TERMINE' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:41.586+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where a1_0.id=?
2025-05-26T13:01:41.588+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.590+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.593+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-4] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='ANNULE' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:41.596+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:01:41.595+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.599+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:01:41.607+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.611+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.612+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_COURS' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:41.613+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.623+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id from agency a1_0 where a1_0.user_id=?
2025-05-26T13:01:41.627+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:01:41.628+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.630+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.634+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:01:41.639+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:01:41.641+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.id=?
2025-05-26T13:01:41.641+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:01:41.643+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.645+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:01:41.649+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.650+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.654+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:01:41.665+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.669+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE' and date(t1_0.issued_at)=current_date
2025-05-26T13:01:41.679+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.716+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.732+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.741+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.749+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.755+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.768+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.782+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.802+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.831+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.852+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.858+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.861+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.864+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.870+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.873+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.878+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.882+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.890+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:01:41.900+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:02:27.860+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:02:27.862+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:02:27.864+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:02:27.866+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:02:27.993+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:02:40.994+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:02:40.996+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:02:40.998+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:02:41.000+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:07.122+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:03:07.135+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:07.137+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:03:07.139+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:07.154+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T13:03:08.986+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:03:08.988+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:08.989+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:03:08.991+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:08.998+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:03:09.000+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T13:03:09.002+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:03:15.824+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:03:15.826+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:15.829+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:03:15.831+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:19.833+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:03:19.837+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:19.840+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:03:19.843+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:24.606+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:03:24.608+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:24.610+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:03:24.611+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:24.618+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:03:27.037+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:03:27.037+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:27.045+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:03:27.047+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:27.054+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:03:32.196+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:03:32.244+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:03:32.245+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:03:32.247+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:06.946+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:04:06.949+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:06.950+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:04:06.952+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:14.643+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:04:14.647+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:14.648+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:04:14.650+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:22.414+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:04:22.416+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:22.418+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:04:22.419+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:22.426+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:04:25.062+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:04:25.066+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:25.067+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:04:25.068+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:25.072+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:04:25.078+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:04:25.081+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:04:25.083+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:04:25.085+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:04:25.086+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:04:25.089+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-2] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:05:28.951+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:05:28.953+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:28.955+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:05:28.957+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:28.961+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:05:35.647+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:05:35.650+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:35.652+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:05:35.654+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:35.663+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:05:35.668+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T13:05:35.669+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:05:37.567+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:05:37.569+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:37.571+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:05:37.572+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:37.579+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:05:37.590+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:05:37.598+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:05:37.600+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:05:37.602+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:05:37.608+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:37.614+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-8] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:05:44.735+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:05:44.740+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:44.742+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:05:44.753+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:44.775+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:05:44.803+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T13:05:44.811+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:05:55.572+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:05:55.574+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:55.575+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:05:55.576+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:55.584+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:05:55.591+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:05:55.594+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:05:55.596+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:05:55.602+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T13:05:55.606+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T13:05:55.608+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T13:05:55.616+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:05:55.621+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-6] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T13:05:55.623+02:00 ERROR 8700 --- [app] [http-nio-8080-exec-6] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T13:07:03.678+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:07:03.680+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:07:03.685+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:07:03.686+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:07:03.692+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:07:03.693+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:07:03.697+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:07:03.702+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:07:03.710+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 left join service_agency a1_0 on s1_0.id=a1_0.service_id where s1_0.id=? and a1_0.agency_id=?
2025-05-26T13:07:03.713+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select max(t1_0.sequence_number) from ticket t1_0 where t1_0.agency_id=?
2025-05-26T13:07:03.720+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into ticket (agency_id,service_id,client_id,completed_at,issued_at,number,sequence_number,served,started_at,status) values (?,?,?,?,?,?,?,?,?,?)
2025-05-26T13:07:03.726+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:07:03.729+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-9] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and t1_0.status='EN_ATTENTE'
2025-05-26T13:07:03.730+02:00 ERROR 8700 --- [app] [http-nio-8080-exec-9] com.nouba.app.services.TicketService     : Error sending notification / Erreur lors de l'envoi de la notification / خطأ في إرسال الإشعار

java.io.FileNotFoundException: class path resource [templates.email/ticket-notification.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendTicketNotification(TicketService.java:310) ~[classes/:na]
	at com.nouba.app.services.TicketService.generateTicket(TicketService.java:81) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.generateTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.takeTicket(TicketController.java:61) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.takeTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T13:07:20.027+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:07:20.030+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:07:20.033+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:07:20.035+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:07:20.042+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:07:20.044+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:07:20.048+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:07:20.057+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:07:20.065+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:07:20.067+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:07:20.076+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:10:53.917+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:10:53.920+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:10:53.922+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:10:53.924+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:10:53.925+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:10:53.926+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:10:53.928+02:00 DEBUG 8700 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:16:52.623+02:00  INFO 8700 --- [app] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26T13:16:52.681+02:00  INFO 8700 --- [app] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-26T13:16:52.739+02:00  INFO 8700 --- [app] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T13:16:52.813+02:00  INFO 8700 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-26T13:16:52.839+02:00  INFO 8700 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-26T13:17:14.207+02:00  INFO 21280 --- [app] [main] com.nouba.app.AppApplication             : Starting AppApplication using Java 21.0.5 with PID 21280 (C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app\target\classes started by ZAKARIA.DERKAOUI in C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app)
2025-05-26T13:17:14.214+02:00  INFO 21280 --- [app] [main] com.nouba.app.AppApplication             : No active profile set, falling back to 1 default profile: "default"
2025-05-26T13:17:19.672+02:00  INFO 21280 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26T13:17:19.966+02:00  INFO 21280 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 261 ms. Found 6 JPA repository interfaces.
2025-05-26T13:17:23.863+02:00  INFO 21280 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-26T13:17:23.896+02:00  INFO 21280 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-26T13:17:23.897+02:00  INFO 21280 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26T13:17:24.059+02:00  INFO 21280 --- [app] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-26T13:17:24.060+02:00  INFO 21280 --- [app] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 9683 ms
2025-05-26T13:17:24.696+02:00  INFO 21280 --- [app] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26T13:17:25.101+02:00  INFO 21280 --- [app] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26T13:17:25.249+02:00  INFO 21280 --- [app] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-26T13:17:26.675+02:00  INFO 21280 --- [app] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26T13:17:26.776+02:00  INFO 21280 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-26T13:17:27.269+02:00  INFO 21280 --- [app] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1e471884
2025-05-26T13:17:27.275+02:00  INFO 21280 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-26T13:17:27.347+02:00  WARN 21280 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26T13:17:27.353+02:00  WARN 21280 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-26T13:17:27.401+02:00  INFO 21280 --- [app] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26T13:17:29.972+02:00  INFO 21280 --- [app] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26T13:17:30.332+02:00  INFO 21280 --- [app] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T13:17:31.238+02:00  INFO 21280 --- [app] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26T13:17:36.899+02:00  WARN 21280 --- [app] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26T13:17:36.964+02:00  INFO 21280 --- [app] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-26T13:17:38.711+02:00  INFO 21280 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-26T13:17:38.734+02:00  INFO 21280 --- [app] [main] com.nouba.app.AppApplication             : Started AppApplication in 27.262 seconds (process running for 29.052)
2025-05-26T13:17:42.311+02:00  INFO 21280 --- [app] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-26T13:17:42.312+02:00  INFO 21280 --- [app] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-26T13:17:42.317+02:00  INFO 21280 --- [app] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-26T13:17:42.858+02:00 DEBUG 21280 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:17:42.935+02:00 DEBUG 21280 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:17:42.995+02:00 DEBUG 21280 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:17:43.031+02:00 DEBUG 21280 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:17:43.036+02:00 DEBUG 21280 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:17:43.052+02:00 DEBUG 21280 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:17:43.108+02:00 DEBUG 21280 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:20:41.161+02:00  INFO 21280 --- [app] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26T13:20:41.178+02:00  INFO 21280 --- [app] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-26T13:20:41.193+02:00  INFO 21280 --- [app] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T13:20:41.199+02:00  INFO 21280 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-26T13:20:41.216+02:00  INFO 21280 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-26T13:21:01.508+02:00  INFO 14000 --- [app] [main] com.nouba.app.AppApplication             : Starting AppApplication using Java 21.0.5 with PID 14000 (C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app\target\classes started by ZAKARIA.DERKAOUI in C:\Users\ZAKARIA.DERKAOUI\Desktop\ODC-2025.02.03 Fullslack\spring boot\app)
2025-05-26T13:21:01.515+02:00  INFO 14000 --- [app] [main] com.nouba.app.AppApplication             : No active profile set, falling back to 1 default profile: "default"
2025-05-26T13:21:06.601+02:00  INFO 14000 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-26T13:21:07.012+02:00  INFO 14000 --- [app] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 378 ms. Found 6 JPA repository interfaces.
2025-05-26T13:21:09.919+02:00  INFO 14000 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-05-26T13:21:09.978+02:00  INFO 14000 --- [app] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-26T13:21:09.979+02:00  INFO 14000 --- [app] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-05-26T13:21:10.223+02:00  INFO 14000 --- [app] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-26T13:21:10.225+02:00  INFO 14000 --- [app] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 8506 ms
2025-05-26T13:21:11.939+02:00  INFO 14000 --- [app] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-26T13:21:13.227+02:00  INFO 14000 --- [app] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.11.Final
2025-05-26T13:21:13.659+02:00  INFO 14000 --- [app] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-05-26T13:21:15.847+02:00  INFO 14000 --- [app] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-05-26T13:21:15.969+02:00  INFO 14000 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-26T13:21:16.425+02:00  INFO 14000 --- [app] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@58cda03f
2025-05-26T13:21:16.431+02:00  INFO 14000 --- [app] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-26T13:21:16.493+02:00  WARN 14000 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-05-26T13:21:16.496+02:00  WARN 14000 --- [app] [main] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-05-26T13:21:16.558+02:00  INFO 14000 --- [app] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-05-26T13:21:19.834+02:00  INFO 14000 --- [app] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-05-26T13:21:20.199+02:00  INFO 14000 --- [app] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T13:21:21.025+02:00  INFO 14000 --- [app] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-05-26T13:21:25.622+02:00  WARN 14000 --- [app] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-26T13:21:25.783+02:00  INFO 14000 --- [app] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-05-26T13:21:27.694+02:00  INFO 14000 --- [app] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-05-26T13:21:27.774+02:00  INFO 14000 --- [app] [main] com.nouba.app.AppApplication             : Started AppApplication in 28.401 seconds (process running for 30.142)
2025-05-26T13:22:15.235+02:00  INFO 14000 --- [app] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-26T13:22:15.237+02:00  INFO 14000 --- [app] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-26T13:22:15.243+02:00  INFO 14000 --- [app] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-26T13:22:15.667+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:22:15.724+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:22:15.754+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:22:15.774+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:22:15.776+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:22:15.783+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:22:15.809+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-1] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:24:14.884+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:24:14.894+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:14.897+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:24:14.900+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:14.953+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-5] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0
2025-05-26T13:24:19.863+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:24:19.868+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:19.871+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:24:19.875+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:19.891+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.name from city c1_0 where c1_0.id=?
2025-05-26T13:24:19.904+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.city_id,a1_0.id,a1_0.address,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 left join users u1_0 on u1_0.id=a1_0.user_id where a1_0.city_id=?
2025-05-26T13:24:19.916+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-7] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:24:23.624+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:24:23.629+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:23.632+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:24:23.634+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:23.647+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,t1_0.service_id,t1_0.client_id,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id where t1_0.number=? and t1_0.agency_id=? and a1_0.city_id=?
2025-05-26T13:24:23.651+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.id=?
2025-05-26T13:24:23.655+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:24:23.658+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select s1_0.id,s1_0.description,s1_0.name from services s1_0 where s1_0.id=?
2025-05-26T13:24:23.662+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.id=?
2025-05-26T13:24:23.665+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:23.672+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-10] org.hibernate.SQL                        : select count(t1_0.id) from ticket t1_0 where t1_0.agency_id=? and cast(substring(t1_0.number,6) as signed)<? and t1_0.status='EN_ATTENTE'
2025-05-26T13:24:33.310+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from users u1_0 where u1_0.email=?
2025-05-26T13:24:33.363+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:33.370+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:24:33.381+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:33.588+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select t1_0.id,t1_0.agency_id,a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role,as1_0.id,as1_0.description,as1_0.name,t1_0.client_id,c2_0.id,c2_0.address,c2_0.phone,c2_0.user_id,u2_0.id,u2_0.activation_token,u2_0.email,u2_0.enabled,u2_0.last_login,u2_0.name,u2_0.password,u2_0.phone,u2_0.role,t1_0.completed_at,t1_0.issued_at,t1_0.number,t1_0.sequence_number,t1_0.served,t1_0.started_at,t1_0.status from ticket t1_0 join agency a1_0 on a1_0.id=t1_0.agency_id join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id left join services as1_0 on as1_0.id=t1_0.service_id join clients c2_0 on c2_0.id=t1_0.client_id join users u2_0 on u2_0.id=c2_0.user_id where t1_0.id=?
2025-05-26T13:24:33.631+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select c1_0.id,c1_0.address,c1_0.phone,c1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from clients c1_0 join users u1_0 on u1_0.id=c1_0.user_id where c1_0.user_id=?
2025-05-26T13:24:33.634+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.address,a1_0.city_id,c1_0.id,c1_0.name,a1_0.name,a1_0.phone,a1_0.photo_url,a1_0.user_id,u1_0.id,u1_0.activation_token,u1_0.email,u1_0.enabled,u1_0.last_login,u1_0.name,u1_0.password,u1_0.phone,u1_0.role from agency a1_0 join city c1_0 on c1_0.id=a1_0.city_id join users u1_0 on u1_0.id=a1_0.user_id where a1_0.user_id=?
2025-05-26T13:24:33.665+02:00 ERROR 14000 --- [app] [http-nio-8080-exec-3] com.nouba.app.services.TicketService     : Error sending cancellation notification

java.io.FileNotFoundException: class path resource [templates.email/ticket-cancellation.html] cannot be resolved to URL because it does not exist
	at org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:230) ~[spring-core-6.2.5.jar:6.2.5]
	at org.springframework.core.io.AbstractFileResolvingResource.getFile(AbstractFileResolvingResource.java:200) ~[spring-core-6.2.5.jar:6.2.5]
	at com.nouba.app.services.EmailService.loadEmailTemplate(EmailService.java:61) ~[classes/:na]
	at com.nouba.app.services.TicketService.sendCancellationNotification(TicketService.java:128) ~[classes/:na]
	at com.nouba.app.services.TicketService.cancelTicket(TicketService.java:160) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.services.TicketService$$SpringCGLIB$$0.cancelTicket(<generated>) ~[classes/:na]
	at com.nouba.app.controller.TicketController.cancelTicket(TicketController.java:245) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196) ~[spring-security-core-6.4.4.jar:6.4.4]
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nouba.app.controller.TicketController$$SpringCGLIB$$0.cancelTicket(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at com.nouba.app.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:59) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238) ~[spring-security-config-6.4.4.jar:6.4.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-05-26T13:24:33.956+02:00 DEBUG 14000 --- [app] [http-nio-8080-exec-3] org.hibernate.SQL                        : update ticket set agency_id=?,service_id=?,client_id=?,completed_at=?,number=?,sequence_number=?,served=?,started_at=?,status=? where id=?
2025-05-26T13:26:01.211+02:00  INFO 14000 --- [app] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-05-26T13:26:01.238+02:00  INFO 14000 --- [app] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-05-26T13:26:01.261+02:00  INFO 14000 --- [app] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-26T13:26:01.272+02:00  INFO 14000 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-26T13:26:01.312+02:00  INFO 14000 --- [app] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
